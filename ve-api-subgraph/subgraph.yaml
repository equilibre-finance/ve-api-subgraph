specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Voter
    network: mainnet
    source:
      address: "0xa9eA46CBa4cA389f95682eb48Ae6b824303166b6"
      abi: "Voter"
      startBlock: 5530444
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/Voter.ts
      entities:
        - Vote
        - AbstainedEvent
        - AttachEvent
        - DepositEvent
        - DetachEvent
        - DistributeRewardEvent
        - GaugeCreatedEvent
        - GaugeKilledEvent
        - GaugeRevivedEvent
        - NotifyRewardEvent
        - VotedEvent
        - WhitelistedEvent
        - WithdrawEvent
      abis:
        - name: Voter
          file: ./abis/voter-abi.json
      eventHandlers:
        - event: Voted(indexed address,uint256,uint256)
          handler: handleVoted
        - event: Abstained(uint256,uint256)
          handler: handleAbstained
        - event: Attach(indexed address,indexed address,uint256)
          handler: handleAttach
        - event: Deposit(indexed address,indexed address,uint256,uint256)
          handler: handleDeposit
        - event: Detach(indexed address,indexed address,uint256)
          handler: handleDetach
        - event: DistributeReward(indexed address,indexed address,uint256)
          handler: handleDistributeReward
        - event: GaugeCreated(indexed address,address,address,indexed address,indexed address)
          handler: handleGaugeCreated
        - event: GaugeKilled(indexed address)
          handler: handleGaugeKilled
        - event: GaugeRevived(indexed address)
          handler: handleGaugeRevived
        - event: NotifyReward(indexed address,indexed address,uint256)
          handler: handleNotifyReward
        - event: Whitelisted(indexed address,indexed address)
          handler: handleWhitelisted
        - event: Withdraw(indexed address,indexed address,uint256,uint256)
          handler: handleWithdraw
  
  - kind: ethereum/contract
    name: EquilibreV2Factory
    network: mainnet
    source:
      address: "0x32F96f8Db7AC0a014D803865dE0A18608637080E"
      abi: EquilibreV2Factory
      startBlock: 5530444
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/equilibreV2Factory.ts
      entities:
        - Pool
        - Fee
        - Owner        
      abis:
        - name: EquilibreV2Factory
          file: ./EquilibreV2Factory.json
      eventHandlers:
        - event: PoolCreated(address,address,uint24,int24,address)
          handler: handlePoolCreated
        - event: FeeAmountEnabled(uint24,int24)
          handler: handleFeeAmountEnabled
        - event: OwnerChanged(address,address)
          handler: handleOwnerChanged
        - event: FeeSetterChanged(address,address)
          handler: handleFeeSetterChanged
        - event: FeeCollectorChanged(address,address)
          handler: handleFeeCollectorChanged
        - event: ImplementationChanged(address,address)
          handler: handleImplementationChanged
        - event: SetFeeProtocol(uint8,uint8,uint8,uint8)
          handler: handleSetFeeProtocol
        - event: SetPoolFeeProtocol(address,uint8,uint8,uint8,uint8)
          handler: handleSetPoolFeeProtocol
          
    - kind: ethereum/contract
      name: FeeCollector
      network: mainnet
      source:
        address: "0x450AC9028D3d7AE644DBC10fb9a598DA857E7759"
        abi: FeeCollector
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/feeCollector.ts
        entities:
          - FeesCollected
          - TreasuryChanged
          - TreasuryFeesChanged
        abis:
          - name: FeeCollector
            file: ./abis/FeeCollector.json
        eventHandlers:
          - event: FeesCollected(address,uint256,uint256,uint256,uint256)
            handler: handleFeesCollected
          - event: TreasuryChanged(address,address)
            handler: handleTreasuryChanged
          - event: TreasuryFeesChanged(uint256,uint256)
            handler: handleTreasuryFeesChanged

    - kind: ethereum/contract
      name: EquilibreV2Pool
      network: mainnet
      source:
        address: "0x32F96f8Db7AC0a014D803865dE0A18608637080E"
        abi: EquilibreV2Pool
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/equilibreV2Pool.ts
        entities:
          - Burn
          - Collect
          - CollectProtocol
          - Flash
          - IncreaseObservationCardinalityNext
          - Initialize
          - Mint
          - SetFeeProtocol
          - Swap
        abis:
          - name: EquilibreV2Pool
            file: ./abis/EquilibreV2Pool.json
        eventHandlers:
          - event: Burn(address,int24,int24,uint128,uint256,uint256)
            handler: handleBurn
          - event: Collect(address,address,int24,int24,uint128,uint128)
            handler: handleCollect
          - event: CollectProtocol(address,address,uint128,uint128)
            handler: handleCollectProtocol
          - event: Flash(address,address,int256,int256,uint160,uint128,int24)
            handler: handleFlash
          - event: IncreaseObservationCardinalityNext(uint16,uint16)
            handler: handleIncreaseObservationCardinalityNext
          - event: Initialize(uint160,int24)
            handler: handleInitialize
          - event: Mint(address,int24,int24,uint128,uint256,uint256)
            handler: handleMint
          - event: SetFeeProtocol(uint8,uint8,uint8,uint8)
            handler: handleSetFeeProtocol
          - event: Swap(address,address,int256,int256,uint160,uint128,int24)
            handler: handleSwap
    - kind: ethereum/contract
      name: Position
      network: mainnet
      source:
        address: "0xfdA1777acA69bf204F5f6d60a1AAAB03703fabfB"
        abi: Position
        startBlock: 5530444  
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/position.ts
        entities:
          - PositionPeriodSecondsInRange
        abis:
          - name: Position
            file: ./abis/position.json
        eventHandlers:
          - event: PositionPeriodSecondsInRange(uint256,address,uint256,int24,int24,uint256)
            handler: handlePositionPeriodSecondsInRange

    - kind: ethereum/contract
      name: ProtocolActions
      network: mainnet
      source:
        address: "0x7B4BaAA7ec9D3B3D486D9E9e62510422e49420De"
        abi: ProtocolActions
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/protocolActions.ts
        entities:
          - CollectProtocol
          - FeeAdjustment
          - SetFeeProtocol
        abis:
          - name: ProtocolActions
            file: ./abis/ProtocolActions.json
        eventHandlers:
          - event: CollectProtocol(address,address,uint128,uint128)
            handler: handleCollectProtocol
          - event: FeeAdjustment(uint24,uint24)
            handler: handleFeeAdjustment
          - event: SetFeeProtocol(uint8,uint8,uint8,uint8)
            handler: handleSetFeeProtocol
    - kind: ethereum/contract
      name: PositionManagerAux
      network: mainnet
      source:
        address: "0x61E0CC7e29Ff5f96089daf9e17eF8042b6e8E9ad"
        abi: PositionManagerAux
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/positionManagerAux.ts
        entities:
          - Collect
          - DecreaseLiquidity
          - SwitchAttachment
        abis:
          - name: PositionManagerAux
            file: ./abis/PositionManagerAux.json
        eventHandlers:
          - event: Collect(uint256,address,uint256,uint256)
            handler: handleCollect
          - event: DecreaseLiquidity(uint256,uint128,uint256,uint256)
            handler: handleDecreaseLiquidity
          - event: SwitchAttachment(uint256,uint256,uint256)
            handler: handleSwitchAttachment
    - kind: ethereum/contract
      name: NonfungibleTokenPositionDescriptor
      network: mainnet
      source:
        address: "0xe42ff8592e8D818C78b631003eED05cA97d74C96"  
        abi: NonfungibleTokenPositionDescriptor
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/nonfungibleTokenPositionDescriptor.ts
        entities:
          - OwnershipTransferred
        abis:
          - name: NonfungibleTokenPositionDescriptor
            file: ./abis/NonfungibleTokenPositionDescriptor.json
        eventHandlers:
          - event: OwnershipTransferred(address,address)
            handler: handleOwnershipTransferred
    - kind: ethereum/contract
      name: NonfungiblePositionManager
      network: mainnet
      source:
        address: "0x78D2D691A9fFB206d458D8229Af1ddCFc6B2b68a"
        abi: NonfungiblePositionManager
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/nonfungiblePositionManager.ts
        entities:
          - Approval
          - ApprovalForAll
          - Collect
          - DecreaseLiquidity
          - IncreaseLiquidity
          - SwitchAttachment
          - Transfer
        abis:
          - name: NonfungiblePositionManager
            file: ./abis/NonfungiblePositionManager.json
        eventHandlers:
          - event: Approval(address,address,uint256)
            handler: handleApproval
          - event: ApprovalForAll(address,address,bool)
            handler: handleApprovalForAll
          - event: Collect(uint256,address,uint256,uint256)
            handler: handleCollect
          - event: DecreaseLiquidity(uint256,uint128,uint256,uint256)
            handler: handleDecreaseLiquidity
          - event: IncreaseLiquidity(uint256,uint128,uint256,uint256)
            handler: handleIncreaseLiquidity
          - event: SwitchAttachment(uint256,uint256,uint256)
            handler: handleSwitchAttachment
          - event: Transfer(address,address,uint256)
            handler: handleTransfer
    - kind: ethereum/contract
      name: GaugeFactoryForERC20
      network: mainnet
      source:
        address: "0x5152fceb23F418482217bd73F402956b340B398d"
        abi: GaugeFactoryForERC20
        startBlock: 5530444  
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/gaugeFactoryForERC20.ts
        entities:
          - GaugeCreated
          - ImplementationChanged
          - Initialized
          - OwnershipTransferred
        abis:
          - name: GaugeFactoryForERC20
            file: ./abis/GaugeFactoryForERC20.json
        eventHandlers:
          - event: GaugeCreated(address,address)
            handler: handleGaugeCreated
          - event: ImplementationChanged(address,address)
            handler: handleImplementationChanged
          - event: Initialized(uint8)
            handler: handleInitialized
          - event: OwnershipTransferred(address,address)
            handler: handleOwnershipTransferred
    - kind: ethereum/contract
      name: VotingRewardsFactory
      network: mainnet
      source:
        address: "0x14416d26a99D584590a117e51A497439D40548B7"
        abi: VotingRewardsFactory
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/votingRewardsFactory.ts
        entities:
          - Initialized
        abis:
          - name: VotingRewardsFactory
            file: ./abis/VotingRewardsFactory.json
        eventHandlers:
          - event: Initialized(uint8)
            handler: handleInitialized
    - kind: ethereum/contract
      name: ManagedRewardsFactory
      network: mainnet
      source:
        address: "0xd7D75450d043FD7f70D558eA5C07b9aadD542a42"
        abi: ManagedRewardsFactory
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/managedRewardsFactory.ts
        entities:
          - ManagedRewardCreated
        abis:
          - name: ManagedRewardsFactory
            file: ./abis/ManagedRewardsFactory.json
        eventHandlers:
          - event: ManagedRewardCreated(address,address,address)
            handler: handleManagedRewardCreated
    - kind: ethereum/contract
      name: FactoryRegistry
      network: mainnet
      source:
        address: "0x7F46f02740cEeb7E5901781173E33017e8340477"
        abi: FactoryRegistry
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/factoryRegistry.ts
        entities:
          - Approve
          - Initialized
          - OwnershipTransferred
          - SetManagedRewardsFactory
          - Unapprove
        abis:
          - name: FactoryRegistry
            file: ./abis/FactoryRegistry.json
        eventHandlers:
          - event: Approve(address,address,address)
            handler: handleApprove
          - event: Initialized(uint8)
            handler: handleInitialized
          - event: OwnershipTransferred(address,address)
            handler: handleOwnershipTransferred
          - event: SetManagedRewardsFactory(address)
            handler: handleSetManagedRewardsFactory
          - event: Unapprove(address,address,address)
            handler: handleUnapprove
    - kind: ethereum/contract
      name: RewardsDistributor
      network: mainnet
      source:
        address: "0x925A6104a83cb40234D0836c15446eD405EC49bc"
        abi: RewardsDistributor
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/rewardsDistributor.ts
        entities:
          - CheckpointToken
          - Claimed
          - Initialized
        abis:
          - name: RewardsDistributor
            file: ./abis/RewardsDistributor.json
        eventHandlers:
          - event: CheckpointToken(uint256,uint256)
            handler: handleCheckpointToken
          - event: Claimed(uint256,uint256,uint256,uint256)
            handler: handleClaimed
          - event: Initialized(uint8)
            handler: handleInitialized
    - kind: ethereum/contract
      name: SinkManagerFacilitator
      network: mainnet
      source:
        address: "0xc7Dd0127B2af97369fB063Cd5aF3467be6cc0eb5"
        abi: SinkManagerFacilitator
        startBlock: 5530444
      mapping:
        kind: ethereum/events
        apiVersion: 0.0.6
        language: wasm/assemblyscript
        file: ./src/sinkManagerFacilitator.ts
        entities:
          - Initialized
        abis:
          - name: SinkManagerFacilitator
            file: ./abis/SinkManagerFacilitator.json
        eventHandlers:
          - event: Initialized(uint8)
            handler: handleInitialized
